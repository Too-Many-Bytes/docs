# Javascript Interface

Javascript Interface - объект, который передается Android'ом в WebView. В дальнейшем frontend будет обращаться к нему, чтобы отправлять коллбеки обратно на Android.


## Структура Javascript Interface

- #### onGetToken(token: String): Unit - обязательный метод

  Метод, через который передается токен прохождения капчи. Он вызывается на frontend'е, когда сервис обработал попытку пользователя пройти капчу. 

- #### onChallengeVisible(): Unit - необязательный метод (нужен только при встраивании невидимой капчи)

  Метод, который вызывается, когда невидимая капча показывает задание пользователю. Так как изначально WebView с невидимой капчей скрыт, нужно отслеживать момент, когда WebView необходимо показать.

- #### onChallengeHidden(): Unit - необязательный метод (нужен только при встраивании невидимой капчи)

    Метод, который вызывается, когда пользователь решил не проходить задание невидимой капчи, а свернуть его. В таком случае необходимо вернуть его на предыдущий экран или как-то по-другому обработать данный случай. Иначе пользователь застрянет на этапе прохождении капчи.


## Примечание

- При создании класса указанные выше методы помечаются аннотацией @JavascriptInterface
- При разработке собственного сайта с капчей название указанных выше методов можно изменить. В таком случае необходимо также изменить их название на стороне frontend'а.
